{"mappings":"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","sources":["src/index.js","src/js/searchQuery.js","src/js/top-slider.js"],"sourcesContent":["\n\nimport './js/language';\nimport './js/swiper';\nimport './js/loader';\nimport './js/storage';\nimport './js/api';\nimport './js/sliderMarkup';\nimport './js/onFirstRender';\nimport './js/paginator';\nimport './js/btnUp';\nimport './js/searchQuery';\nimport './js/top-slider';\nimport './js/modalMovie';\nimport './js/modal_footer';\nimport './js/closeModal';\nimport './js/trailers';\nimport './js/watched';\nimport './js/queue';\n\n","import { apiMovie } from './api';\nimport { refs }  from './refs';\nimport insertCardMarkup from './cardMarkup';\nimport storage from './storage';\nimport { Notify } from 'notiflix';\nimport Loader from './loader';\nimport Paginator from './paginator';\nimport { LANG, langAtr } from './onFirstRender';\n\n\nconst loader = new Loader();\nconst paginator = new Paginator();\nlet searchValue = '';\n\nconst form = document.querySelector('.header__form');\nconst input = form.querySelector(`input`);\nconst container = refs.cardContainer;\nconst sliderContainer =  document.querySelector('.top-slider__section');\n//console.log('sliderContainer',sliderContainer);\nform.addEventListener(`submit`, onSearch);\n\nfunction getQueryData(e) {\n // console.log('here');\n  \n  let nowPage = paginator.getNumber(e);\n  if (nowPage) {\n    async function fetchByQueryFromPag(value, page) {\n      try {\n        const res = await apiMovie.searchMovieByQuery(value, page);\n        console.log(page);\n\n        if (!res.results) {\n          loader.disable();\n          return Notify.failure(`Sorry, no movies were found for your search.`);\n        }\n        storage.saveCurrentPage(res.results);\n        storage.savePage(page);\n        sliderContainer.style.display = \"none\";\n        insertCardMarkup(res.results, container);\n        ifPosterOfMovieIsNotFound();\n\n        loader.disable();\n        paginator.makeMarkup();\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    fetchByQueryFromPag(searchValue, paginator.currentPage);\n  }\n}\n\nfunction onSearch(e) {\n  e.preventDefault();\n  searchValue = e.currentTarget.elements.searchQuery.value.trim();\n if (!searchValue ) {\n    return Notify.info(`The input field cannot be empty!`);\n    return;\n  }\n\n  loader.enable();\n\n  fetchByQuery(searchValue, 1);\n\n  paginator.pagination.addEventListener('click', getQueryData);\n\n  input.addEventListener('change', e => {\n    console.log(e.target.value);\n    if (e.target.value !== '') {\n      return;\n    }\n    window.location.href = './index.html';\n  });\n}\n\nasync function fetchByQuery(value, page) {\n  try {\n    const res = await apiMovie.searchMovieByQuery(value, page);\n\n    if (!res.results) {\n      loader.disable();\n      return Notify.failure(`Sorry, no movies were found for your search.`);\n    }\n\n    paginator.totalPages = res.total_pages;\n    storage.savePage(page);\n    storage.saveCurrentPage(res.results);\n    console.log('res.results', res.results);\n    sliderContainer.style.display = \"none\";\n   // slider.style.display = `none`;\n\n    insertCardMarkup(res.results, container);\n    ifPosterOfMovieIsNotFound();\n\n    loader.disable();\n    paginator.pagination.innerHTML = '';\n\n    paginator.makeMarkup();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// if poster of film is not found\nfunction ifPosterOfMovieIsNotFound() {\n  const filmPostersNodeList = document.querySelectorAll(`.film_poster`);\n  const massiveOfFilmPosters = Array.from(filmPostersNodeList);\n  massiveOfFilmPosters.map(e => {\n    if (e.src === `https://image.tmdb.org/t/p/originalnull`) {\n      e.src = `https://img.freepik.com/premium-vector/movie-neon-sign-bright-signboard-light-banner-movie-time-logo-neon-emblem-vector-illustration_191108-314.jpg?w=2000`;\n    }\n  });\n}\n\n","import  Swiper,{ EffectCoverflow } from \"swiper\";\nimport '../../node_modules/swiper/swiper.scss';\n\nconst topMovies = new Swiper('[data-swiper=\"top\"]', {\n  modules: [EffectCoverflow],\n  effect:'coverflow',\n  coverflowEffect: {\n    rotate: 40,\n    modifier: 1,\n  },\n  touchEventsTarget: 'wrapper',\n  centeredSlides: true,\n  slidesPerView: 1,\n  spaceBetween: 10,\n  loop:true,\n  initialSlide: 3,\n\n  // Responsive breakpoints\n  breakpoints: {\n    // when window width is >= 320px\n    320: {\n      slidesPerView: 1.5,\n\n    },\n    // when window width is >= 480px\n    480: {\n      slidesPerView: 2.5,\n  \n    },\n    // when window width is >= 640px\n    768: {\n      slidesPerView: 3,\n\n    },\n    928: {\n      slidesPerView: 3.5,\n\n    },\n    1280: {\n      slidesPerView: 4.5,\n\n    }\n  }\n});\n\n\n\nconst container = document.querySelector('.top-slider__section');\nconst sliderImage = document.querySelector('.top-slider__wrapper');\n//console.log(sliderImage);\n\nwindow.addEventListener('scroll', () => {\n  const scrollPosition = window.pageYOffset;\n\n  container.style.backgroundPositionY = `${scrollPosition * 0.1}px`;\n});\n\n\nsliderImage.addEventListener('wheel', (e)=> {\n  e.preventDefault();\n\n  if (e.deltaY < 0) {\n    topMovies.slidePrev();\n  } else if (e.deltaY > 0) {\n    topMovies.slideNext();\n  }\n});"],"names":["parcelRequire","$bpxeT","$ff188c0ba33da7b1$var$loader","$kvC6y","default","$ff188c0ba33da7b1$var$paginator","$cYjYj","$ff188c0ba33da7b1$var$searchValue","$ff188c0ba33da7b1$var$form","document","querySelector","$ff188c0ba33da7b1$var$input","$ff188c0ba33da7b1$var$container","$4Nugj","refs","cardContainer","$ff188c0ba33da7b1$var$sliderContainer","$ff188c0ba33da7b1$var$getQueryData","e","getNumber","_fetchByQueryFromPag","$parcel$interopDefault","$2TvXO","mark","_callee","value","page","res","$b7ONl","apiMovie","searchMovieByQuery","_ctx","sent","console","log","results","disable","$ejkSG","Notify","failure","$jzQFI","saveCurrentPage","savePage","style","display","$7iFtI","$ff188c0ba33da7b1$var$ifPosterOfMovieIsNotFound","makeMarkup","t0","apply","this","arguments","fetchByQueryFromPag","currentPage","$ff188c0ba33da7b1$var$_fetchByQuery","totalPages","total_pages","pagination","innerHTML","filmPostersNodeList","querySelectorAll","Array","from","map","src","addEventListener","e1","preventDefault","currentTarget","elements","searchQuery","trim","info","enable","$ff188c0ba33da7b1$var$fetchByQuery","target","window","location","href","$e1ad9","$1fcab0c1210d2bd3$var$topMovies","modules","EffectCoverflow","effect","coverflowEffect","rotate","modifier","touchEventsTarget","centeredSlides","slidesPerView","spaceBetween","loop","initialSlide","breakpoints","$1fcab0c1210d2bd3$var$container","$1fcab0c1210d2bd3$var$sliderImage","scrollPosition","pageYOffset","backgroundPositionY","concat","deltaY","slidePrev","slideNext"],"version":3,"file":"index.3037d777.js.map"}