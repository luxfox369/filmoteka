{"mappings":"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","sources":["src/index.js","src/js/searchQuery.js","src/js/top-slider.js"],"sourcesContent":["\n\nimport './js/language';\nimport './js/swiper';\nimport './js/loader';\nimport './js/storage';\nimport './js/api';\nimport './js/sliderMarkup';\nimport './js/onFirstRender';\nimport './js/paginator';\nimport './js/btnUp';\nimport './js/searchQuery';\nimport './js/top-slider';\nimport './js/modalMovie';\nimport './js/modal_footer';\nimport './js/closeModal';\nimport './js/trailers';\nimport './js/watched';\nimport './js/queue';\n\n","import { apiMovie } from './api';\nimport { refs }  from './refs';\nimport insertCardMarkup from './cardMarkup';\nimport storage from './storage';\nimport { Notify } from 'notiflix';\nimport Loader from './loader';\nimport Paginator from './paginator';\nimport { LANG, langAtr } from './onFirstRender';\n\n\nconst loader = new Loader();\nconst paginator = new Paginator();\nlet searchValue = '';\n\nconst form = document.querySelector('.header__form');\nconst input = form.querySelector(`input`);\nconst container = refs.cardContainer;\nconst sliderContainer =  document.querySelector('.top-slider__section');\n//console.log('sliderContainer',sliderContainer);\nform.addEventListener(`submit`, onSearch);\n\nfunction getQueryData(e) {\n // console.log('here');\n  \n  let nowPage = paginator.getNumber(e);\n  if (nowPage) {\n    async function fetchByQueryFromPag(value, page) {\n      try {\n        const res = await apiMovie.searchMovieByQuery(value, page);\n        console.log(page);\n\n        if (!res.results) {\n          loader.disable();\n          return Notify.failure(`Sorry, no movies were found for your search.`);\n        }\n        storage.saveCurrentPage(res.results);\n        storage.savePage(page);\n        sliderContainer.style.display = \"none\";\n        insertCardMarkup(res.results, container);\n        ifPosterOfMovieIsNotFound();\n\n        loader.disable();\n        paginator.makeMarkup();\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    fetchByQueryFromPag(searchValue, paginator.currentPage);\n  }\n}\n\nfunction onSearch(e) {\n  e.preventDefault();\n  searchValue = e.currentTarget.elements.searchQuery.value.trim();\n if (!searchValue ) {\n    return Notify.info(`The input field cannot be empty!`);\n    return;\n  }\n\n  loader.enable();\n\n  fetchByQuery(searchValue, 1);\n\n  paginator.pagination.addEventListener('click', getQueryData);\n\n  input.addEventListener('change', e => {\n    console.log(e.target.value);\n    if (e.target.value !== '') {\n      return;\n    }\n    window.location.href = './index.html';\n  });\n}\n\nasync function fetchByQuery(value, page) {\n  try {\n    const res = await apiMovie.searchMovieByQuery(value, page);\n\n    if (!res.results) {\n      loader.disable();\n      return Notify.failure(`Sorry, no movies were found for your search.`);\n    }\n\n    paginator.totalPages = res.total_pages;\n    storage.savePage(page);\n    storage.saveCurrentPage(res.results);\n    console.log('res.results', res.results);\n    sliderContainer.style.display = \"none\";\n   // slider.style.display = `none`;\n\n    insertCardMarkup(res.results, container);\n    ifPosterOfMovieIsNotFound();\n\n    loader.disable();\n    paginator.pagination.innerHTML = '';\n\n    paginator.makeMarkup();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// if poster of film is not found\nfunction ifPosterOfMovieIsNotFound() {\n  const filmPostersNodeList = document.querySelectorAll(`.film_poster`);\n  const massiveOfFilmPosters = Array.from(filmPostersNodeList);\n  massiveOfFilmPosters.map(e => {\n    if (e.src === `https://image.tmdb.org/t/p/originalnull`) {\n      e.src = `https://img.freepik.com/premium-vector/movie-neon-sign-bright-signboard-light-banner-movie-time-logo-neon-emblem-vector-illustration_191108-314.jpg?w=2000`;\n    }\n  });\n}\n\n","import  Swiper,{ EffectCoverflow } from \"swiper\";\nimport '../../node_modules/swiper/swiper.scss';\n\nconst topMovies = new Swiper('[data-swiper=\"top\"]', {\n  modules: [EffectCoverflow],\n  effect:'coverflow',\n  coverflowEffect: {\n    rotate: 40,\n    modifier: 1,\n  },\n  touchEventsTarget: 'wrapper',\n  centeredSlides: true,\n  slidesPerView: 1,\n  spaceBetween: 10,\n  loop:true,\n  initialSlide: 3,\n\n  // Responsive breakpoints\n  breakpoints: {\n    // when window width is >= 320px\n    320: {\n      slidesPerView: 1.5,\n\n    },\n    // when window width is >= 480px\n    480: {\n      slidesPerView: 2.5,\n  \n    },\n    // when window width is >= 640px\n    768: {\n      slidesPerView: 3,\n\n    },\n    928: {\n      slidesPerView: 3.5,\n\n    },\n    1280: {\n      slidesPerView: 4.5,\n\n    }\n  }\n});\n\n\n\nconst container = document.querySelector('.top-slider__section');\nconst sliderImage = document.querySelector('.top-slider__wrapper');\n//console.log(sliderImage);\n\nwindow.addEventListener('scroll', () => {\n  const scrollPosition = window.pageYOffset;\n\n  container.style.backgroundPositionY = `${scrollPosition * 0.1}px`;\n});\n\n\nsliderImage.addEventListener('wheel', (e)=> {\n  e.preventDefault();\n\n  if (e.deltaY < 0) {\n    topMovies.slidePrev();\n  } else if (e.deltaY > 0) {\n    topMovies.slideNext();\n  }\n});"],"names":["parcelRequire","$7rYDH","$2364270202d9246c$var$loader","$gjiCh","default","$2364270202d9246c$var$paginator","$aWGU8","$2364270202d9246c$var$searchValue","$2364270202d9246c$var$form","document","querySelector","$2364270202d9246c$var$input","$2364270202d9246c$var$container","$krGWQ","refs","cardContainer","$2364270202d9246c$var$sliderContainer","$2364270202d9246c$var$getQueryData","e","getNumber","async","value","page","res","apiMovie","searchMovieByQuery","console","log","results","disable","$1GAPJ","Notify","failure","$5uEKZ","saveCurrentPage","savePage","style","display","$eVqJU","$2364270202d9246c$var$ifPosterOfMovieIsNotFound","makeMarkup","error","fetchByQueryFromPag","currentPage","filmPostersNodeList","querySelectorAll","Array","from","map","src","addEventListener","e1","preventDefault","currentTarget","elements","searchQuery","trim","info","enable","totalPages","total_pages","pagination","innerHTML","$2364270202d9246c$var$fetchByQuery","target","window","location","href","$iB56l","$dc2a65b606cd99f4$var$topMovies","modules","EffectCoverflow","effect","coverflowEffect","rotate","modifier","touchEventsTarget","centeredSlides","slidesPerView","spaceBetween","loop","initialSlide","breakpoints","$dc2a65b606cd99f4$var$container","$dc2a65b606cd99f4$var$sliderImage","scrollPosition","pageYOffset","backgroundPositionY","deltaY","slidePrev","slideNext"],"version":3,"file":"index.f13ce79e.js.map"}